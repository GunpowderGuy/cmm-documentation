INFO_TABLE_CONSTR ( my_start, 0, 0, 1, 1, "my start description", "my start type")
{
  foreign "C" debugBelch("hello cmm!\n");

  jump my_main();
}

// this is how RTS finds the entry points, the "ZCMain_main_closure" is hardwired
CLOSURE (ZCMain_main_closure, my_start);

my_main()
{
  (bits64 res) = call sum(0, 1, 100000);
  foreign "C" debugBelch("%ld\n", res);

  // exit program
  jump stg_stop_thread_info();
}

sum(bits64 acc, bits64 from, bits64 to)
{
  if (from > to) {
    return (acc);
  } else {
    jump sum(acc + from, from + 1, to);
  }
}

/*
grinMain =
  n13 <- sum 0 1 100000
  _prim_int_print n13

sum n29 n30 n31 =
  b2 <- _prim_int_gt n30 n31
  if b2 then
    pure n29
  else
    n18 <- _prim_int_add n30 1
    n28 <- _prim_int_add n29 n30
    sum n28 n18 n31
*/
